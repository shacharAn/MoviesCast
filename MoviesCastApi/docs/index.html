<!DOCTYPE html>
<html lang="he">
<head>
  <meta charset="UTF-8" />
  <title> Movies App</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>

  <h1> Movies App</h1>

  <div class="tabs">
    <button id="btnTabAll"> כל הסרטים</button>
    <button id="btnTabWish">Wish List</button>
    <button id="btnTabCast"> צוות השחקנים </button>
    <span class="tabs-user">
    <span id="userStatus" style="font-weight:bold; color:#444;"></span>
    <button id="btnShowLogin"> התחברות</button>
    <button id="btnShowRegister"> הרשמה</button>
    <button id="btnLogout" style="display:none;"> התנתקות</button>
  </span>
  </div>

  <section id="page-all" class="page active">
    <div class="section-filters">
      <label>דירוג מינימלי: </label>
      <input id="ratingInput" type="number" min="0" max="10" step="0.1" style="width:90px">
      <button id="btnFilterRating">סנן לפי דירוג</button>
      &nbsp;&nbsp;&nbsp;
      <label>משך מקסימלי (דקות): </label>
      <input id="durationInput" type="number" min="1" step="1" style="width:90px">
      <button id="btnFilterDuration">סנן לפי משך</button>
    </div>
    <div class="cast-wrap">
    <form id="movieForm" class="cast-form">
      <h3>הוספת סרט חדש (רק למשתמש מחובר)</h3>

      <div class="form-row">
        <div class="field">
          <label for="movieTitle">שם הסרט</label>
          <input id="movieTitle" type="text" />
          <span id="errMovieTitle" class="err"></span>
        </div>

        <div class="field">
          <label for="movieRating">דירוג (0–10)</label>
          <input id="movieRating" type="number" step="0.1" />
          <span id="errMovieRating" class="err"></span>
        </div>

        <div class="field">
          <label for="movieIncome">הכנסות </label>
          <input id="movieIncome" type="number" />
          <span id="errMovieIncome" class="err"></span>
        </div>
      </div>

      <div class="form-row">
        <div class="field">
          <label for="movieYear">שנת יציאה</label>
          <input id="movieYear" type="number" />
          <span id="errMovieYear" class="err"></span>
        </div>

        <div class="field">
          <label for="movieDuration">משך (בדקות)</label>
          <input id="movieDuration" type="number" />
          <span id="errMovieDuration" class="err"></span>
        </div>

        <div class="field">
          <label for="movieLanguage">שפה</label>
          <input id="movieLanguage" type="text" />
          <span id="errMovieLanguage" class="err"></span>
        </div>
      </div>

      <div class="form-row">
        <div class="field">
          <label for="movieGenre">ז'אנר</label>
          <input id="movieGenre" type="text" />
          <span id="errMovieGenre" class="err"></span>
        </div>

        <div class="field">
          <label for="moviePhoto">תמונת פוסטר (URL)</label>
          <input id="moviePhoto" type="text" />
          <span id="errMoviePhoto" class="err"></span>
        </div>

        <div class="field">
          <label for="movieDescription">תיאור</label>
          <input id="movieDescription" type="text" />
          <span id="errMovieDescription" class="err"></span>
        </div>
      </div>

      <div class="actions">
        <button type="submit">הוסף סרט</button>
      </div>
    </form>
  </div>
    <div id="all-movies" class="movie-grid">טוען סרטים...</div>
  </section>

  <section id="page-wish" class="page">
    <div class="section-wish-actions">      <button id="btnWishRefresh">רענן Wish List</button>
    </div>
    <div id="wish-movies" class="movie-grid">עדיין אין מועדפים…</div>
  </section>

  <section id="page-cast" class="page">
    <div class="cast-wrap">
      <form id="castForm" class="cast-form" novalidate>
        <h3>הוספת שחקן </h3>
        <div class="form-row">
          <div class="field">
            <label for="castName">שם מלא *</label>
            <input id="castName" name="castName" type="text" minlength="2" maxlength="50" required />
            <div class="err" id="errName"></div>
          </div>

          <div class="field">
            <label for="castRole">תפקיד</label>
            <input id="castRole" name="castRole" type="text" minlength="2" maxlength="50" />
            <div class="err" id="errRole"></div>
          </div>

          <div class="field">
            <label for="castDateOfBirth">תאריך לידה</label>
            <input id="castDateOfBirth" name="castDateOfBirth" type="date" />
            <div class="err" id="errDob"></div>
          </div>

          <div class="field">
            <label for="castCountry">מדינה</label>
            <input id="castCountry" name="castCountry" type="text" minlength="2" maxlength="50" />
            <div class="err" id="errCountry"></div>
          </div>

          <div class="field">
            <label for="castPhoto">תמונת שחקן (PhotoUrl)</label>
            <input id="castPhoto" name="castPhoto" type="url" placeholder="https://..." />
            <div class="err" id="errPhoto"></div>
          </div>
        </div>

        <div class="actions">
          <button type="submit" id="btnCastSubmit">הוסף שחקן</button>
        </div>
      </form>


      <h3 class="section-cast-header">רשימת שחקנים קיימת</h3>
      <div id="cast-list" class="movie-grid">טוען שחקנים...</div>
    </div>
  </section>

  <div id="loginModal" class="modal-box" style="display:none;">
  <div class="modal-content">
    <h3> התחברות</h3>
    <label>אימייל:</label>
    <input id="loginEmail" type="email" />
    <label>סיסמה:</label>
    <input id="loginPassword" type="password" />
    <button id="btnDoLogin">התחבר</button>
    <button onclick="hideLogin()">סגור</button>
    <div id="loginError" style="color:red;"></div>
  </div>
</div>

<div id="registerModal" class="modal-box" style="display:none;">
  <div class="modal-content">
    <h3> הרשמה</h3>
    <label>שם משתמש:</label>
    <input id="regUserName" type="text" />
    <label>אימייל:</label>
    <input id="regEmail" type="email" />
    <label>סיסמה:</label>
    <input id="regPassword" type="password" />
    <button id="btnDoRegister">הירשם</button>
    <button onclick="hideRegister()">סגור</button>
    <div id="registerError" style="color:red;"></div>
  </div>
</div>


  <script src="functions.js"></script>
  <script src="index.js"></script>
</body>
</html>
